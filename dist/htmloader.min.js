var __awaiter=this&&this.__awaiter||function(t,o,d,u){return new(d=d||Promise)(function(i,e){function r(t){try{a(u.next(t))}catch(t){e(t)}}function n(t){try{a(u.throw(t))}catch(t){e(t)}}function a(t){var e;t.done?i(t.value):((e=t.value)instanceof d?e:new d(function(t){t(e)})).then(r,n)}a((u=u.apply(t,o||[])).next())})};const htmloader={_target:null,_data:[],useComponentIn:function(a){return __awaiter(this,void 0,void 0,function*(){var e=document.querySelectorAll("[data-hl-load]");for(let t=0;t<e.length;t++){var i=e[t].getAttribute("data-hl-load"),r=JSON.parse(e[t].getAttribute("data-hl-use")),n="false"!==e[t].getAttribute("data-hl-override");this._target=e[t],this.withData(r).render(a+`/${i}.html`,n)}})},target:function(t){return this._target=document.querySelector(t),this},withData:function(t){return Array.isArray(t)?this._data=t:this._data.push(t),this},render:function(t,r){return __awaiter(this,void 0,void 0,function*(){var e=yield(yield fetch(t)).text();0===this._data.length&&this._data.push({dummy:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, recusandae."});for(let t=0;t<this._data.length;t++){var i=yield this.injectDataToString(e,this._data[t]);if(r)return this._target.parentNode.replaceChild(yield this.convertStringtoNode(i),this._target),0;this._target.append(yield this.convertStringtoNode(i))}})},injectDataToString:function(t,i){return __awaiter(this,void 0,void 0,function*(){let e=yield t;return Object.keys(i).forEach(t=>{e=e.replace("::"+t,i[t])}),e})},convertStringtoNode:function(i){return __awaiter(this,void 0,void 0,function*(){var t=document.createElement("div"),e=yield i;return t.innerHTML=e.trim(),t.firstChild})}};